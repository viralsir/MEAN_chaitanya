<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>java script demo8</title>
 <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

</head>
<body>
<form >
  <table>
    <tr><th colspan="2">Personal Info</th></tr>
    <tr>
      <th>First Name </th>
      <td><input type="text" id="fname"></td>
    </tr>
    <tr>
      <th>Last Name </th>
      <td><input type="text" id="lname"></td>
    </tr>
    <tr>
      <th>Phno </th>
      <td><input type="text" id="phno"></td>
    </tr>
    <tr>
      <td colspan="2">
        <input type="button" class="btn btn-outline-primary btn-sm" id="addbtn" value="add">
        <input type="reset" class="btn btn-outline-primary btn-sm" value="clear">
        <input type="button" id="viewbtn" value="View">
      </td>
    </tr>
  </table>
</form>
<table id="result" class="table">
  <tr>
    <th>First Name </th> <th>Last Name</th><th>Phno</th></tr>
</table>
<script>
  if(!localStorage.getItem("persons"))
  {
    localStorage.setItem("persons",JSON.stringify([]));
  }

   document.getElementById("addbtn").onclick=function (){

     let fname=document.getElementById("fname").value;
     let lname=document.getElementById("lname").value;
     let phno=document.getElementById("phno").value;

     let person={"first_name":fname,"last_name":lname,"phno":phno};
     let persons=JSON.parse(localStorage.getItem("persons"));
     persons.push(person)
     localStorage.setItem("persons",JSON.stringify(persons));


     /*let tr=document.createElement("tr");
     let td1=document.createElement("td");
     let td2=document.createElement("td");
     let td3=document.createElement("td");

     td1.innerHTML=fname;
     td2.innerHTML=lname;
     td3.innerHTML=phno;

     tr.append(td1);tr.append(td2);tr.append(td3);

     let table=document.getElementById("result");
     table.append(tr);
*/
     document.getElementById("fname").value="";
     document.getElementById("lname").value="";
     document.getElementById("phno").value="";
     document.getElementById("result").innerHTML=`<tr><td>Recrod is added</td></tr>`;

   }

   document.getElementById("viewbtn").onclick=function (){
    let persons=JSON.parse(localStorage.getItem("persons"));
    let table=document.getElementById("result");
     for (let i = 0; i < persons.length; i++) {
        let tr=document.createElement("tr");
        let td1=document.createElement("td");
        let td2=document.createElement("td");
        let td3=document.createElement("td");
        td1.innerHTML=persons[i].first_name;
        td2.innerHTML=persons[i].last_name;
        td3.innerHTML=persons[i].phno;
       tr.append(td1);tr.append(td2);tr.append(td3);
       table.append(tr);

     }


   }

</script>
<!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

</body>
</html>
